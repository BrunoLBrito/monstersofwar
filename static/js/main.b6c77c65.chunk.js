(this["webpackJsonpcrud-contextapi"]=this["webpackJsonpcrud-contextapi"]||[]).push([[0],{14:function(e,t,n){e.exports=n.p+"static/media/logo192.a3e1bb92.png"},15:function(e,t,n){e.exports=n(30)},20:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),c=n(13),r=n.n(c),o=(n(20),n(2)),u=n(1),m=n(10),s=n.n(m);n(21),n(24);s.a.initializeApp({apiKey:"AIzaSyAbZH3g0_B1S44FFiEEjFZvQk2KuGI00VY",authDomain:"crud-d5e05.firebaseapp.com",databaseURL:"https://crud-d5e05.firebaseio.com",projectId:"crud-d5e05",storageBucket:"crud-d5e05.appspot.com",messagingSenderId:"239483585426",appId:"1:239483585426:web:27e9ddd608b9862bf4774b"});var i=s.a,d=Object(a.createContext)(),p=n(5),E=n(14),b=n.n(E),f=(n(27),function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0];t[1];return l.a.createElement("div",{className:"container-header"},l.a.createElement("header",null,l.a.createElement("div",{className:"logo"},l.a.createElement("img",{src:b.a,alt:""}),l.a.createElement("p",null,"MoW\u1d35\u1d37\u1d35")),l.a.createElement("div",{className:"menu",onClick:function(){alert("Aplica\xe7\xe3o em desenvolvimento - by: BrunoL")}},l.a.createElement(p.b,null))),l.a.createElement("nav",{className:"nav-menu",style:n?{left:"0px",transition:".5s"}:{left:"-100%",transition:".5s"}},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("a",{href:"/#"},"Inicio")),l.a.createElement("li",null,l.a.createElement("a",{href:"/#"},"Regras")),l.a.createElement("li",null,l.a.createElement("a",{href:"/#"},"Tabela")))))}),h=n(3),j=function(){var e=Object(a.useContext)(d),t=e.currentUser,n=e.setModal,c=Object(a.useState)(t),r=Object(u.a)(c,2),m=r[0],s=r[1],p=Object(a.useState)({msg:"",color:""}),E=Object(u.a)(p,2),b=E[0],f=E[1];Object(a.useEffect)((function(){s(t)}),[t]);var j=function(e){var t=e.target,n=t.name,a=t.value;s((function(e){return Object(o.a)({},e,Object(h.a)({},n,a))}))};return l.a.createElement("div",{className:"container-form"},l.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),!m.name||!m.points||""===m.jumps)return f({msg:"Preencha todos os campos!",color:"alert warning"});i.firestore().collection("users").doc(m.id).set({name:m.name,points:+m.points,jumps:+m.jumps}),f({msg:"".concat(m.name," alterado com sucesso!"),color:"alert success"})}},l.a.createElement("div",null,l.a.createElement("p",{onClick:function(){return n("off")}},"\xd7")),l.a.createElement("div",{className:b.color},l.a.createElement("span",null,b.msg)),l.a.createElement("input",{type:"text",name:"name",value:m.name,onChange:j}),l.a.createElement("input",{type:"number",name:"points",value:m.points,onChange:j}),l.a.createElement("input",{type:"number",name:"jumps",value:m.jumps,onChange:j}),l.a.createElement("button",{type:"submit"},"Alterar")))},g=function(){var e={name:"",points:"",jumps:""},t=Object(a.useRef)(null),n=Object(a.useContext)(d).setModal,c=Object(a.useState)(e),r=Object(u.a)(c,2),m=r[0],s=r[1],p=Object(a.useState)({msg:"",color:""}),E=Object(u.a)(p,2),b=E[0],f=E[1],j=function(e){var t=e.target,n=t.name,a=t.value;s((function(e){return Object(o.a)({},e,Object(h.a)({},n,a))}))};return l.a.createElement("div",{className:"container-form"},l.a.createElement("form",{onSubmit:function(n){if(n.preventDefault(),!m.name||!m.points||!m.jumps)return f({msg:"Preencha todos os campos!",color:"alert warning"});i.firestore().collection("users").add({name:m.name,points:+m.points,jumps:+m.jumps}),s(e),f({msg:"".concat(m.name," adicionado com sucesso!"),color:"alert success"}),t.current.focus()}},l.a.createElement("div",null,l.a.createElement("p",{onClick:function(){return n("off")}},"\xd7")),l.a.createElement("div",{className:b.color},l.a.createElement("span",null,b.msg)),l.a.createElement("input",{ref:t,type:"text",name:"name",value:m.name,onChange:j,placeholder:"Digite o nickname"}),l.a.createElement("input",{type:"number",name:"points",value:m.points,onChange:j,placeholder:"Digite os pontos"}),l.a.createElement("input",{type:"number",name:"jumps",value:m.jumps,onChange:j,placeholder:"Digite os pulos"}),l.a.createElement("button",{type:"submit"},"Adicionar")))},v=(n(28),function(){var e=Object(a.useContext)(d),t=e.users,n=e.editRow,c=e.setModal,r=e.hide;return l.a.createElement("div",{className:"wapper"},r.hidden?l.a.createElement("table",{className:"table-users"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Nome"),l.a.createElement("th",null,"Pulos"))),l.a.createElement("tbody",null,t.length>0?t.sort((function(e,t){return t.jumps-e.jumps})).map((function(e,t){return l.a.createElement("tr",{key:e.id,style:e.jumps>0?{background:"#dff0d8",fontWeight:"400"}:{background:"#f2dede",fontWeight:"300"}},l.a.createElement("td",null,t+1,"\xb0"),l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.jumps))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"6"},"Nenhum player encontrado")))):l.a.createElement("table",{className:"table-users"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Nome"),l.a.createElement("th",null,"Pontos"),l.a.createElement("th",null,"Pulos"),l.a.createElement("th",null,"%"),l.a.createElement("th",null,"A\xe7\xf5es"))),l.a.createElement("tbody",null,t.length>0?t.sort((function(e,t){return t.points-e.points})).map((function(e,a){return l.a.createElement("tr",{key:e.id,style:e.jumps>0?{background:"#dff0d8",fontWeight:"400"}:{background:"#f2dede",fontWeight:"300"}},l.a.createElement("td",null,a+1,"\xb0"),l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.points.toLocaleString("pt-BR")),l.a.createElement("td",null,e.jumps),l.a.createElement("td",null,(100*e.points/t.reduce((function(e,t){return e+t.points}),0)).toFixed(2),"%"),l.a.createElement("td",null,l.a.createElement("div",{className:"button-group"},l.a.createElement("button",{onClick:function(){return function(e){n(e),c("edit")}(e)},className:"btn-table btn-edit"},l.a.createElement(p.c,null)),l.a.createElement("button",{onClick:function(){return t=e.id,n=e.name,void(window.confirm("Deseja realmente deletar ".concat(n,"?"))&&i.firestore().collection("users").doc(t).delete());var t,n},className:"btn-table btn-del"},l.a.createElement(p.a,null)))))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"6"},"Nenhum player encontrado")))))});n(29);var O=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)({id:null,name:"",points:"",jumps:""}),m=Object(u.a)(r,2),s=m[0],p=m[1],E=Object(a.useState)("off"),b=Object(u.a)(E,2),h=b[0],O=b[1],y=Object(a.useState)({hidden:!1,txt:"Tabela Simples"}),N=Object(u.a)(y,2),S=N[0],k=N[1];return Object(a.useEffect)((function(){i.firestore().collection("users").orderBy("points","desc").onSnapshot((function(e){c(e.docs.map((function(e){return Object(o.a)({},e.data(),{id:e.id})})))}))}),[S]),l.a.createElement(d.Provider,{value:{users:n,currentUser:s,editRow:function(e){p(e)},setModal:O,hide:S}},l.a.createElement("div",{className:"container"},l.a.createElement(f,null),l.a.createElement("div",{className:"btn-add"},l.a.createElement("button",{className:"btn-green",onClick:function(){S.hidden?k({hidden:!1,txt:"Tabela Simples"}):k({hidden:!0,txt:"Tabela Completa"})}},S.txt),l.a.createElement("button",{className:"btn-red",onClick:function(){return O("add")}},"Adicionar Player")),"edit"===h?l.a.createElement(j,null):"add"===h?l.a.createElement(g,null):void 0,l.a.createElement(v,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.b6c77c65.chunk.js.map