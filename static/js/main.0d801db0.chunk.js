(this["webpackJsonpcrud-contextapi"]=this["webpackJsonpcrud-contextapi"]||[]).push([[0],{14:function(e,t,n){e.exports=n.p+"static/media/logo192.a3e1bb92.png"},15:function(e,t,n){e.exports=n(30)},20:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),c=n(13),r=n.n(c),o=(n(20),n(2)),u=n(1),s=n(10),i=n.n(s);n(21),n(24);i.a.initializeApp({apiKey:"AIzaSyAbZH3g0_B1S44FFiEEjFZvQk2KuGI00VY",authDomain:"crud-d5e05.firebaseapp.com",databaseURL:"https://crud-d5e05.firebaseio.com",projectId:"crud-d5e05",storageBucket:"crud-d5e05.appspot.com",messagingSenderId:"239483585426",appId:"1:239483585426:web:27e9ddd608b9862bf4774b"});var m=i.a,d=Object(a.createContext)(),p=n(5),b=n(14),E=n.n(b),f=(n(27),function(){return l.a.createElement("div",{className:"container-header"},l.a.createElement("header",null,l.a.createElement("div",{className:"logo"},l.a.createElement("img",{src:E.a,alt:""}),l.a.createElement("p",null,"MoW\u1d35\u1d37\u1d35")),l.a.createElement("div",{className:"menu",onClick:function(){return alert("Aplica\xe7\xe3o em desenvolvimento - by: Bruno Brito")}},l.a.createElement(p.b,null))))}),h=n(3),j=function(){var e=Object(a.useContext)(d),t=e.currentUser,n=e.setModal,c=Object(a.useState)(t),r=Object(u.a)(c,2),s=r[0],i=r[1],p=Object(a.useState)({msg:"",color:""}),b=Object(u.a)(p,2),E=b[0],f=b[1];Object(a.useEffect)((function(){i(t)}),[t]);var j=function(e){var t=e.target,n=t.name,a=t.value;i((function(e){return Object(o.a)({},e,Object(h.a)({},n,a))}))};return l.a.createElement("div",{className:"container-form"},l.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),!s.name||!s.points||!s.jumps)return f({msg:"Preencha todos os campos!",color:"alert warning"});m.firestore().collection("users").doc(s.id).set({name:s.name,points:+s.points,jumps:+s.jumps}),f({msg:"Player alterado com sucesso!",color:"alert success"})}},l.a.createElement("div",null,l.a.createElement("p",{onClick:function(){return n("off")}},"\xd7")),l.a.createElement("div",{className:E.color},l.a.createElement("span",null,E.msg)),l.a.createElement("input",{type:"text",name:"name",value:s.name,onChange:j}),l.a.createElement("input",{type:"number",name:"points",value:s.points,onChange:j}),l.a.createElement("input",{type:"number",name:"jumps",value:s.jumps,onChange:j}),l.a.createElement("button",{type:"submit"},"Alterar")))},v=function(){var e={name:"",points:"",jumps:""},t=Object(a.useContext)(d).setModal,n=Object(a.useState)(e),c=Object(u.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)({msg:"",color:""}),p=Object(u.a)(i,2),b=p[0],E=p[1],f=function(e){var t=e.target,n=t.name,a=t.value;s((function(e){return Object(o.a)({},e,Object(h.a)({},n,a))}))};return l.a.createElement("div",{className:"container-form"},l.a.createElement("form",{onSubmit:function(t){if(t.preventDefault(),!r.name||!r.points||!r.jumps)return E({msg:"Preencha todos os campos!",color:"alert warning"});m.firestore().collection("users").add({name:r.name,points:+r.points,jumps:+r.jumps}),s(e),E({msg:"Player adicionado com sucesso!",color:"alert success"})}},l.a.createElement("div",null,l.a.createElement("p",{onClick:function(){return t("off")}},"\xd7")),l.a.createElement("div",{className:b.color},l.a.createElement("span",null,b.msg)),l.a.createElement("input",{type:"text",name:"name",value:r.name,onChange:f,placeholder:"Digite o nickname"}),l.a.createElement("input",{type:"number",name:"points",value:r.points,onChange:f,placeholder:"Digite os pontos"}),l.a.createElement("input",{type:"number",name:"jumps",value:r.jumps,onChange:f,placeholder:"Digite os pulos"}),l.a.createElement("button",{type:"submit"},"Adicionar")))},g=(n(28),function(){var e=Object(a.useContext)(d),t=e.users,n=e.editRow,c=e.setModal,r=e.hide;return l.a.createElement("div",{className:"wapper"},l.a.createElement("table",{className:"table-users"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Nome"),r.hidden?null:l.a.createElement("th",null,"Pontos"),l.a.createElement("th",null,"Pulos"),r.hidden?null:l.a.createElement("th",null,"%"),r.hidden?null:l.a.createElement("th",null,"A\xe7\xf5es"))),l.a.createElement("tbody",null,t.length>0?t.map((function(e,a){return l.a.createElement("tr",{key:e.id,style:e.jumps>0?{background:"#dff0d8",fontWeight:"400"}:{background:"#f2dede",fontWeight:"300"}},l.a.createElement("td",null,a+1,"\xb0"),l.a.createElement("td",null,e.name),r.hidden?null:l.a.createElement("td",null,e.points.toLocaleString("pt-BR")),l.a.createElement("td",null,e.jumps),r.hidden?null:l.a.createElement("td",null,(100*e.points/t.reduce((function(e,t){return e+t.points}),0)).toFixed(2),"%"),r.hidden?null:l.a.createElement("td",null,l.a.createElement("div",{className:"button-group"},l.a.createElement("button",{onClick:function(){return function(e){n(e),c("edit")}(e)},className:"btn-table btn-edit"},l.a.createElement(p.c,null)),l.a.createElement("button",{onClick:function(){return t=e.id,void(window.confirm("Deseja realmente deletar esse player?")&&m.firestore().collection("users").doc(t).delete());var t},className:"btn-table btn-del"},l.a.createElement(p.a,null)))))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"6"},"Nenhum player encontrado")))))});n(29);var O=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)({id:null,name:"",points:"",jumps:""}),s=Object(u.a)(r,2),i=s[0],p=s[1],b=Object(a.useState)("off"),E=Object(u.a)(b,2),h=E[0],O=E[1],y=Object(a.useState)({hidden:!1,txt:"Tabela Simples",desc:"points"}),S=Object(u.a)(y,2),C=S[0],N=S[1];return Object(a.useEffect)((function(){m.firestore().collection("users").orderBy(C.desc,"desc").onSnapshot((function(e){c(e.docs.map((function(e){return Object(o.a)({},e.data(),{id:e.id})})))}))}),[C]),l.a.createElement(d.Provider,{value:{users:n,currentUser:i,editRow:function(e){p(e)},setModal:O,hide:C}},l.a.createElement("div",{className:"container"},l.a.createElement(f,null),l.a.createElement("div",{className:"btn-add"},l.a.createElement("button",{className:"btn-green",onClick:function(){C.hidden?N({hidden:!1,txt:"Tabela Simples",desc:"points"}):N({hidden:!0,txt:"Tabela Completa",desc:"jumps"})}},C.txt),l.a.createElement("button",{className:"btn-red",onClick:function(){return O("add")}},"Adicionar Player")),"edit"===h?l.a.createElement(j,null):"add"===h?l.a.createElement(v,null):void 0,l.a.createElement(g,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.0d801db0.chunk.js.map